INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_CIVILITY" (CIV_CDA,SHORT_LABEL,LONG_LABEL) VALUES ('MLLE','Mlle','Mademoiselle');
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_CIVILITY" (CIV_CDA,SHORT_LABEL,LONG_LABEL) VALUES ('MME','Mme','Madame');
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_CIVILITY" (CIV_CDA,SHORT_LABEL,LONG_LABEL) VALUES ('MR','M.','Monsieur');

INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_CREDENTIALS" (PR_CDN,BEGINNING_DATE,EXPIRY_DATE,DESCRIPTION,LAST_NAME,FIRST_NAME,MAIL,PHONE_NUMBER,FAX_NUMBER,STREET,POSTAL_CODE,TOWN,COUNTRY,LOGIN_LB,CIV_CDA) VALUES (1,{ts '2013-11-17 20:08:08.000'},null,'','bronnert','frederic','frederic.bronnert@agriculture.gouv.fr','0614257895','','CERIT - BP 12668','31326','CASTANET TOLOSAN CEDEX','FRANCE','frederic.bronnert','MR');
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_CREDENTIALS" (PR_CDN,BEGINNING_DATE,EXPIRY_DATE,DESCRIPTION,LAST_NAME,FIRST_NAME,MAIL,PHONE_NUMBER,FAX_NUMBER,STREET,POSTAL_CODE,TOWN,COUNTRY,LOGIN_LB,CIV_CDA) VALUES (2,{ts '2015-01-17 08:08:08.000'},null,'','dupre','olivier','olivier.dupre@agriculture.gouv.fr','0612345678','','CERIT - BP 12668','31326','CASTANET TOLOSAN CEDEX','FRANCE','olivier.dupre','MR');

INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_AGRICOLL_CREDENTIALS" (PR_CDN,AGRI_IDENTIFIANT,OU) VALUES (1,null,'ou=O2,ou=BMSQ,ou=SDSI,ou=SM,ou=SG,ou=DAC,ou=AC,ou=organisation,ou=agriculture,o=gouv,c=fr');
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_AGRICOLL_CREDENTIALS" (PR_CDN,AGRI_IDENTIFIANT,OU) VALUES (2,null,'ou=O2,ou=BMSQ,ou=SDSI,ou=SM,ou=SG,ou=DAC,ou=AC,ou=organisation,ou=agriculture,o=gouv,c=fr');

/* Création du member contenant le credential*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_OWNER" (OWNER_CDN) VALUES (1);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_MEMBER" (OWNER_CDN,PR_CDN) VALUES (1,1);

INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_OWNER" (OWNER_CDN) VALUES (2);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_MEMBER" (OWNER_CDN,PR_CDN) VALUES (2,2);

/* Creation de l'application Webmin  webmin*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_APPLICATION" (APPLICATION_CDN,NAME) VALUES (1,'webmin');
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_APPLICATION" (APPLICATION_CDN,NAME) VALUES (2,'Formation ORION 5.2');

/* Creation d'un role admin et du groupe de droit associé */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_ROLE" (ROLE_CDN,DESCRIPTION,NAME,APPLICATION_CDN,ROLE_INHERITED_CDN,ROLECAT_CDN) VALUES (1,'Role Admin','Admin',1,null,null);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_ROLE" (ROLE_CDN,DESCRIPTION,NAME,APPLICATION_CDN,ROLE_INHERITED_CDN,ROLECAT_CDN) VALUES (2,'Role Admin Formation','Admin Formation',2,null,null);

INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GROUP" (GROUP_CDN,NAME,DESCRIPTION,APPLICATION_CDN,GROUPCAT_CDN) VALUES (1,'Tous les droits','Groupe de droits global',1,null);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GROUP_ROLE" (GROUP_CDN,ROLE_CDN) VALUES (1,1);

INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GROUP" (GROUP_CDN,NAME,DESCRIPTION,APPLICATION_CDN,GROUPCAT_CDN) VALUES (2,'Tous les droits','Groupe de droits global',2,null);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GROUP_ROLE" (GROUP_CDN,ROLE_CDN) VALUES (2,2);

/*Insertion de la première ressource protégée */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GUARDED_RESOURCE" (GR_CDN,TYPE,NAME,DESCRIPTION,GROUP_CDN,GRCAT_CDN) VALUES (1,'fr.gouv.agriculture.orion.security.authorization.GuardedResource','fr.gouv.agriculture.orion.Action',null,1,null);
/* permission de la première ressource protégée*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (1,'execute','true',null,1);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_METHOD_PERMISSION" (PERM_CDN) VALUES (1);

/*Insertion de la seconde ressource protégée */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GUARDED_RESOURCE" (GR_CDN,TYPE,NAME,DESCRIPTION,GROUP_CDN,GRCAT_CDN) VALUES (2,'fr.gouv.agriculture.orion.security.authorization.GuardedResource','fr.gouv.agriculture.orion.business.Business',null,1,null);
/* permissions de la seconde ressource protégée*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (2,'update','true',null,2);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (3,'create','true',null,2);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (4,'delete','true',null,2);

/*Insertion de la troisieme ressource protégée */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GUARDED_RESOURCE" (GR_CDN,TYPE,NAME,DESCRIPTION,GROUP_CDN,GRCAT_CDN) VALUES (3,'fr.gouv.agriculture.orion.security.authorization.GuardedResource','fr.gouv.agriculture.o2.webmin.*',null,1,null);
/* permissions de la troisieme ressource protégée*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (5,'execute','true',null,3);

/*Insertion de la quatrième ressource protégée */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GUARDED_RESOURCE" (GR_CDN,TYPE,NAME,DESCRIPTION,GROUP_CDN,GRCAT_CDN) VALUES (4,'fr.gouv.agriculture.orion.security.authorization.GuardedResource','fr.gouv.agriculture.orion.Action','',2,null);
/* permissions de la quatrième ressource protégée*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (6,'execute','true','',4);

/*Insertion de la cinquième ressource protégée */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GUARDED_RESOURCE" (GR_CDN,TYPE,NAME,DESCRIPTION,GROUP_CDN,GRCAT_CDN) VALUES (5,'fr.gouv.agriculture.orion.security.authorization.GuardedResource','fr.gouv.agriculture.orion.business.Business','',2,null);
/* permissions de la cinquième ressource protégée*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (7,'read','true','',5);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (8,'update','true','',5);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (9,'create','true','',5);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (10,'delete','true','',5);

/*Insertion de la sixième ressource protégée */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_GUARDED_RESOURCE" (GR_CDN,TYPE,NAME,DESCRIPTION,GROUP_CDN,GRCAT_CDN) VALUES (6,'fr.gouv.agriculture.orion.security.authorization.GuardedResource','fr.gouv.agriculture.orion.view.Renderable','Assure que ce rôle verra toujours tout, même si les "Renderable" sont habilités.',2,null);
/* permissions de la sixième ressource protégée*/
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_PERMISSION" (PERM_CDN,NAME,VALUE,DESCRIPTION,GR_CDN) VALUES (11,'rendered','true','',6);

/* Association user / Role */
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_ROLE_FOR_PRINCIPAL" (RFP_CDN,ROLE_CDN,BEGINNING_DATE,EXPIRY_DATE,PR_CDN,DEFAULT_ROLE) VALUES (1,1,{ts '2013-11-21 00:00:00.000'},null,1,1);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_ROLE_FOR_PRINCIPAL" (RFP_CDN,ROLE_CDN,BEGINNING_DATE,EXPIRY_DATE,PR_CDN,DEFAULT_ROLE) VALUES (2,2,{ts '2013-11-21 00:00:00.000'},null,2,1);

-- Ajout de communautés
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_OWNER" (OWNER_CDN) VALUES (3);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_OWNER" (OWNER_CDN) VALUES (4);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY" (OWNER_CDN,NAME) VALUES (3,'Communaute 1');
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY" (OWNER_CDN,NAME) VALUES (4,'Communaute 2');

-- L'utilisateur 2 est administrateurs des deux communautés et l'utilisateur seulement membre
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY_ADMIN" (ADMIN_CDN,COMMUNITY_CDN) VALUES (2,3);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY_MEMBER" (MEMBER_CDN,COMMUNITY_CDN) VALUES (2,3);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY_MEMBER" (MEMBER_CDN,COMMUNITY_CDN) VALUES (1,3);

INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY_ADMIN" (ADMIN_CDN,COMMUNITY_CDN) VALUES (2,4);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY_MEMBER" (MEMBER_CDN,COMMUNITY_CDN) VALUES (2,4);
INSERT INTO "PUBLIC"."PUBLIC"."T_ORION_COMMUNITY_MEMBER" (MEMBER_CDN,COMMUNITY_CDN) VALUES (1,4);